{"version":3,"file":"static/js/17.54eb3e3f.chunk.js","mappings":"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","sources":["webpack://catalogo-barbantes/./src/features/shopping-cart/components/ShoppingCart.module.css?5491","webpack://catalogo-barbantes/./src/features/shopping-cart/components/CartItem.module.css?8e23","shared/utils/formatPrice.ts","features/shopping-cart/components/CartItem.tsx","features/shopping-cart/components/ShoppingCart.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"shoppingCartContainer\":\"ShoppingCart_shoppingCartContainer__CyiXs\",\"cartContent\":\"ShoppingCart_cartContent__U4F1H\",\"cartItemsList\":\"ShoppingCart_cartItemsList__9au1F\",\"cartItem\":\"ShoppingCart_cartItem__n2tGW\",\"cartSummary\":\"ShoppingCart_cartSummary__DlHOR\",\"total\":\"ShoppingCart_total__zFqyw\",\"actions\":\"ShoppingCart_actions__JhH7y\",\"emptyButton\":\"ShoppingCart_emptyButton__C9BQZ\",\"checkoutButton\":\"ShoppingCart_checkoutButton__qqDAz\",\"emptyCart\":\"ShoppingCart_emptyCart__4JTKh\",\"cartEmptyConfirmation\":\"ShoppingCart_cartEmptyConfirmation__J6pZI\"};","// extracted by mini-css-extract-plugin\nexport default {\"cartItem\":\"CartItem_cartItem__UkAOe\",\"itemImage\":\"CartItem_itemImage__YdnlR\",\"itemDetails\":\"CartItem_itemDetails__94C+4\",\"itemPrice\":\"CartItem_itemPrice__ovZns\",\"quantityControl\":\"CartItem_quantityControl__1Pc6z\",\"subtotal\":\"CartItem_subtotal__PFYqK\",\"removeItem\":\"CartItem_removeItem__rfkT2\"};","// src/shared/utils/formatPrice.ts\nconst formatPrice = (price: number): string => {\n  return price.toFixed(2).replace('.', ',')\n}\n\nexport default formatPrice\n","// src/features/shopping-cart/components/CartItem.tsx\nimport React from 'react'\nimport styles from './CartItem.module.css'\nimport { CartItem as CartItemType, Product } from '../../../types/product'\nimport formatPrice from '../../../shared/utils/formatPrice'\n\ninterface CartItemProps {\n  product: Product // Garante que product não seja undefined aqui\n  quantity: number\n  onQuantityChange: (productId: number, quantity: number) => void\n  onRemoveFromCart: (productId: number) => void\n}\n\nconst CartItem: React.FC<CartItemProps> = React.memo(\n  ({ product, quantity, onQuantityChange, onRemoveFromCart }) => {\n    const handleIncrement = () => {\n      onQuantityChange(product.id, quantity + 1)\n    }\n\n    const handleDecrement = () => {\n      if (quantity > 1) {\n        onQuantityChange(product.id, quantity - 1)\n      }\n    }\n\n    const handleRemove = () => {\n      onRemoveFromCart(product.id)\n    }\n\n    const subtotal = formatPrice(product.price * quantity)\n    const formattedPrice = formatPrice(product.price)\n\n    const details: string[] = [`Cor: ${product.color}`]\n    if (product.num) {\n      details.push(`Numeração: ${product.num}`)\n    }\n    const itemDetailsText = details.join(' - ')\n\n    console.log(`CartItem renderizou para: ${product.name}, quantidade: ${quantity}`) // Para debug\n\n    return (\n      <div className={styles.cartItem}>\n        {product.images && product.images[0] && (\n          <img\n            src={`${process.env.PUBLIC_URL}${product.images[0]}`}\n            alt={product.name}\n            className={styles.itemImage}\n          />\n        )}\n        <div className={styles.itemDetails}>\n          <h3>{product.name}</h3>\n          <p className={styles.itemDetailsText}>{itemDetailsText}</p>\n          <p className={styles.itemPrice}>R$ {formattedPrice}</p>\n        </div>\n        <div className={styles.quantityControl}>\n          <button onClick={handleDecrement} aria-label=\"Decrementar quantidade\">\n            -\n          </button>\n          <span>{quantity}</span>\n          <button onClick={handleIncrement} aria-label=\"Incrementar quantidade\">\n            +\n          </button>\n        </div>\n        <div className={styles.subtotal}>Subtotal: R$ {subtotal}</div>\n        <button className={styles.removeItem} onClick={handleRemove}>\n          Remover\n        </button>\n      </div>\n    )\n  }\n)\n\nCartItem.displayName = 'CartItem' // Opcional\n\nexport default CartItem\n","// src/features/shopping-cart/components/ShoppingCart.tsx\nimport React, { useState, useCallback } from 'react'\nimport styles from './ShoppingCart.module.css'\nimport CartItem from './CartItem'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { useCartStore } from '../../../store/cartStore'\nimport { useProductStore } from '../../../store/productStore'\n\nconst ShoppingCart: React.FC = React.memo(() => {\n  const cartItems = useCartStore((state) => state.items)\n  const removeItem = useCartStore((state) => state.removeItem)\n  const increaseQuantity = useCartStore((state) => state.increaseQuantity)\n  const decreaseQuantity = useCartStore((state) => state.decreaseQuantity)\n  const clearCart = useCartStore((state) => state.clearCart)\n  const getTotalPrice = useCartStore((state) => state.getTotalPrice)\n  const products = useProductStore((state) => state.products)\n  const navigate = useNavigate()\n  const [cartEmptyMessageVisible, setCartEmptyMessageVisible] = useState(false)\n\n  const calculateTotal = useCallback(() => {\n    return getTotalPrice().toFixed(2).replace('.', ',')\n  }, [getTotalPrice])\n\n  const handleEmptyCart = useCallback(() => {\n    clearCart()\n    setCartEmptyMessageVisible(true)\n    setTimeout(() => {\n      setCartEmptyMessageVisible(false)\n    }, 3000)\n  }, [clearCart])\n\n  const handleQuantityChange = useCallback(\n    (productId: number, quantity: number) => {\n      if (quantity > 0) {\n        const itemInCart = cartItems.find((item) => item.product.id === productId)\n        if (itemInCart) {\n          if (quantity > itemInCart.quantity) {\n            increaseQuantity(productId)\n          } else if (quantity < itemInCart.quantity) {\n            decreaseQuantity(productId)\n          }\n        }\n      } else if (quantity === 0) {\n        removeItem(productId)\n      }\n    },\n    [cartItems, increaseQuantity, decreaseQuantity, removeItem]\n  )\n\n  const handleRemoveFromCart = useCallback(\n    (productId: number) => {\n      removeItem(productId)\n    },\n    [removeItem]\n  )\n\n  const handleCheckout = useCallback(() => {\n    navigate('/checkout')\n  }, [navigate])\n\n  return (\n    <div className={styles.shoppingCartContainer}>\n      <h1>Seu Carrinho de Compras</h1>\n      {cartEmptyMessageVisible && (\n        <div className={styles.cartEmptyConfirmation}>Carrinho esvaziado com sucesso!</div>\n      )}\n      {cartItems.length === 0 ? (\n        <div className={styles.emptyCart}>\n          <p>Seu carrinho está vazio.</p>\n          <Link to=\"/\">Voltar para a loja</Link>\n        </div>\n      ) : (\n        <div className={styles.cartContent}>\n          <ul className={styles.cartItemsList}>\n            {cartItems.map((cartItem) => {\n              const product = products.find((p) => p.id === cartItem.product.id)\n              if (!product) {\n                return null\n              }\n              return (\n                <li key={cartItem.product.id} className={styles.cartItem}>\n                  <CartItem\n                    product={product}\n                    quantity={cartItem.quantity}\n                    onQuantityChange={handleQuantityChange}\n                    onRemoveFromCart={handleRemoveFromCart}\n                  />\n                </li>\n              )\n            })}\n          </ul>\n          <div className={styles.cartSummary}>\n            <p className={styles.total}>Total: R$ {calculateTotal()}</p>\n            <div className={styles.actions}>\n              <button onClick={handleEmptyCart} className={styles.emptyButton}>\n                Esvaziar Carrinho\n              </button>\n              <button onClick={handleCheckout} className={styles.checkoutButton}>\n                Finalizar Pedido\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n})\n\nShoppingCart.displayName = 'ShoppingCart'\n\nexport default ShoppingCart\n"],"names":["price","toFixed","replace","CartItem","React","_ref","product","quantity","onQuantityChange","onRemoveFromCart","subtotal","formatPrice","formattedPrice","details","color","num","push","itemDetailsText","join","console","log","name","_jsxs","className","styles","cartItem","children","images","_jsx","src","alt","itemImage","itemDetails","itemPrice","quantityControl","onClick","handleDecrement","id","handleIncrement","removeItem","handleRemove","displayName","ShoppingCart","cartItems","useCartStore","state","items","increaseQuantity","decreaseQuantity","clearCart","getTotalPrice","products","useProductStore","navigate","useNavigate","cartEmptyMessageVisible","setCartEmptyMessageVisible","useState","calculateTotal","useCallback","handleEmptyCart","setTimeout","handleQuantityChange","productId","itemInCart","find","item","handleRemoveFromCart","handleCheckout","length","Link","to","map","p"],"sourceRoot":""}